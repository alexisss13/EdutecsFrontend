<div class="accordion">
  <div
    class="accordion-item"
    *ngFor="let pregunta of getPreguntasParaMostrar(); let i = index"
  >
    <div
      class="accordion-header"
      (click)="togglePanel(i)"
      style="cursor: pointer;"
    >
      <img *ngIf="pregunta.icono" [src]="pregunta.icono" alt="{{pregunta.texto}}" class="icono" />
      <span class="pregunta-texto">{{ pregunta.texto }}</span>
      <span class="arrow" [class.rotated]="isExpanded(i)"></span>

    </div>

    <div
      class="accordion-body"
      *ngIf="isExpanded(i)"
    >
      <div
        class="opcion"
        *ngFor="let opcion of pregunta.opciones"
        (click)="selectOpcion(pregunta, opcion)"
        [class.selected]="isOpcionSeleccionada(pregunta, opcion)"
      >
        {{ opcion.nombre }}
      </div>
    </div>
  </div>
</div>
